(function(){"use strict";var e,t,s,o,i,a,r,c,l,d,m,u=document.querySelectorAll(".reveal");"IntersectionObserver"in window?(l=new IntersectionObserver(function(e){e.forEach(function(e){e.isIntersecting&&(e.target.classList.add("visible"),l.unobserve(e.target))})},{threshold:.15}),u.forEach(function(e){l.observe(e)})):u.forEach(function(e){e.classList.add("visible")}),c=document.querySelector(".progress-bar"),c&&window.addEventListener("scroll",function(){var t=window.pageYOffset||document.documentElement.scrollTop,e=document.documentElement.scrollHeight-window.innerHeight,n=e>0?t/e*100:0;c.style.width=n+"%"},{passive:!0}),o=document.querySelector(".nav-floating"),o&&window.addEventListener("scroll",function(){window.pageYOffset>80?o.classList.add("scrolled"):o.classList.remove("scrolled")},{passive:!0}),r=document.querySelectorAll("[data-section]"),a=document.querySelectorAll(".section-dot"),r.length&&a.length&&"IntersectionObserver"in window&&(d=new IntersectionObserver(function(e){e.forEach(function(e){if(e.isIntersecting){var t,n=e.target.getAttribute("data-section");a.forEach(function(e){e.classList.remove("active")}),t=document.querySelector('.section-dot[data-dot="'+n+'"]'),t&&t.classList.add("active")}})},{threshold:.3}),r.forEach(function(e){d.observe(e)})),document.querySelectorAll(".video-container").forEach(function(e){e.addEventListener("click",function(){var t=e.querySelector("video");t&&(t.paused?(t.play(),e.classList.add("playing")):(t.pause(),e.classList.remove("playing")))})}),e=Array.from(document.querySelectorAll(".cover, [data-section]")),s=0,i=!1;function h(){var o=window.pageYOffset,s=window.innerHeight,t=0,n=1/0;return e.forEach(function(e,o){var i=e.getBoundingClientRect(),r=i.top+i.height/2,a=Math.abs(r-s/2);a<n&&(n=a,t=o)}),t}function n(t){t<0&&(t=0),t>=e.length&&(t=e.length-1),s=t,i=!0,e[t].scrollIntoView({behavior:"smooth",block:"start"}),f(t),setTimeout(function(){i=!1},800)}t=document.createElement("div"),t.className="key-hint",document.body.appendChild(t);function f(n){var o,i,s="";n===0?s="âŒ‚":(i=e[n],o=document.querySelector('.section-dot[data-dot="'+i.getAttribute("data-section")+'"] .dot-tooltip'),s=o?o.textContent.trim():n+""),t.textContent=s,t.classList.add("visible"),clearTimeout(m),m=setTimeout(function(){t.classList.remove("visible")},1200)}document.addEventListener("keydown",function(t){if(t.target.tagName==="INPUT"||t.target.tagName==="TEXTAREA"||t.target.isContentEditable)return;var i,o=!1;switch(t.key){case"ArrowDown":case"j":s=h(),n(s+1),o=!0;break;case"ArrowUp":case"k":s=h(),n(s-1),o=!0;break;case"Home":n(0),o=!0;break;case"End":n(e.length-1),o=!0;break;case"1":case"2":case"3":case"4":case"5":i=parseInt(t.key),i<=e.length-1&&(n(i),o=!0);break;case"Escape":n(0),o=!0;break}o&&t.preventDefault()})})()